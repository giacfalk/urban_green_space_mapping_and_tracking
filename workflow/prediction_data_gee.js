

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_1").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_1") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2016, 2017);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2016_1_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_2").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_2") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2016, 2017);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2016_2_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_3").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_3") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2016, 2017);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2016_3_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_4").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_4") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2016, 2017);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2016_4_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_5").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_5") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2016, 2017);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2016_5_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_6").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_6") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2016, 2017);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2016_6_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_7").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_7") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2016, 2017);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2016_7_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_8").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_8") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2016, 2017);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2016_8_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_9").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_9") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2016, 2017);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2016_9_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_10").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_10") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2016, 2017);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2016_10_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_11").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_11") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2016, 2017);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2016_11_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_12").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_12") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2016, 2017);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2016_12_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_13").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_13") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2016, 2017);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2016_13_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_14").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_14") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2016, 2017);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2016_14_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_15").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_15") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2016, 2017);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2016_15_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_16").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_16") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2016, 2017);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2016_16_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_17").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_17") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2016, 2017);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2016_17_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_18").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_18") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2016, 2017);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2016_18_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_19").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_19") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2016, 2017);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2016_19_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_20").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_20") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2016, 2017);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2016_20_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_21").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_21") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2016, 2017);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2016_21_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_22").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_22") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2016, 2017);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2016_22_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_23").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_23") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2016, 2017);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2016_23_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_24").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_24") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2016, 2017);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2016_24_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_25").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_25") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2016, 2017);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2016_25_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_26").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_26") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2016, 2017);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2016_26_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_27").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_27") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2016, 2017);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2016_27_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_28").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_28") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2016, 2017);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2016_28_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_29").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_29") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2016, 2017);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2016_29_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_30").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_30") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2016, 2017);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2016_30_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_31").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_31") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2016, 2017);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2016_31_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_32").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_32") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2016, 2017);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2016_32_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_33").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_33") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2016, 2017);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2016_33_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_34").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_34") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2016, 2017);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2016_34_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_35").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_35") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2016, 2017);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2016_35_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_36").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_36") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2016, 2017);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2016_36_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_37").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_37") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2016, 2017);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2016_37_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_38").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_38") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2016, 2017);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2016_38_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_39").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_39") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2016, 2017);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2016_39_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_40").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_40") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2016, 2017);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2016_40_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_41").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_41") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2016, 2017);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2016_41_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_42").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_42") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2016, 2017);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2016_42_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_43").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_43") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2016, 2017);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2016_43_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_44").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_44") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2016, 2017);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2016_44_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_45").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_45") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2016, 2017);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2016_45_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_46").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_46") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2016, 2017);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2016_46_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_47").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_47") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2016, 2017);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2016_47_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_48").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_48") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2016, 2017);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2016_48_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_49").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_49") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2016, 2017);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2016_49_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_50").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_50") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2016, 2017);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2016_50_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_51").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_51") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2016, 2017);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2016_51_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_52").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_52") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2016, 2017);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2016_52_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_53").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_53") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2016, 2017);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2016_53_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_54").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_54") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2016, 2017);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2016_54_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_55").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_55") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2016, 2017);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2016_55_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_56").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_56") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2016, 2017);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2016_56_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_57").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_57") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2016, 2017);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2016_57_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_58").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_58") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2016, 2017);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2016_58_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_59").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_59") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2016, 2017);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2016_59_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_60").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_60") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2016, 2017);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2016_60_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_61").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_61") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2016, 2017);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2016_61_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_62").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_62") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2016, 2017);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2016_62_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_63").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_63") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2016, 2017);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2016_63_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_64").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_64") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2016, 2017);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2016_64_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_65").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_65") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2016, 2017);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2016_65_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_66").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_66") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2016, 2017);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2016_66_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_67").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_67") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2016, 2017);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2016_67_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_69").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_69") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2016, 2017);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2016_69_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_70").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_70") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2016, 2017);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2016_70_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_71").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_71") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2016, 2017);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2016_71_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_72").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_72") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2016, 2017);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2016_72_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_73").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_73") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2016, 2017);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2016_73_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_74").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_74") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2016, 2017);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2016_74_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_75").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_75") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2016, 2017);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2016_75_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_76").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_76") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2016, 2017);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2016_76_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_77").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_77") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2016, 2017);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2016_77_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_78").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_78") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2016, 2017);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2016_78_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_79").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_79") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2016, 2017);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2016_79_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_80").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_80") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2016, 2017);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2016_80_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_81").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_81") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2016, 2017);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2016_81_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_82").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_82") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2016, 2017);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2016_82_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_83").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_83") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2016, 2017);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2016_83_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_84").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_84") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2016, 2017);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2016_84_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_85").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_85") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2016, 2017);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2016_85_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_86").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_86") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2016, 2017);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2016_86_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_87").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_87") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2016, 2017);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2016_87_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_88").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_88") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2016, 2017);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2016_88_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_89").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_89") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2016, 2017);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2016_89_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_90").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_90") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2016, 2017);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2016_90_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_91").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_91") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2016, 2017);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2016_91_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_92").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_92") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2016, 2017);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2016_92_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_93").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_93") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2016, 2017);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2016_93_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_94").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_94") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2016, 2017);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2016_94_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_95").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_95") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2016, 2017);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2016_95_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_96").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_96") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2016, 2017);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2016_96_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_97").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_97") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2016, 2017);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2016_97_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_98").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_98") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2016, 2017);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2016_98_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_99").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_99") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2016, 2017);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2016_99_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_100").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_100") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2016, 2017);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2016_100_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_101").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_101") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2016, 2017);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2016_101_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_102").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_102") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2016, 2017);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2016_102_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_103").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_103") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2016, 2017);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2016_103_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_104").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_104") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2016, 2017);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2016_104_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_105").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_105") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2016, 2017);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2016_105_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_106").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_106") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2016, 2017);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2016_106_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_107").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_107") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2016, 2017);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2016_107_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_108").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_108") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2016, 2017);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2016_108_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_109").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_109") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2016, 2017);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2016_109_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_110").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_110") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2016, 2017);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2016_110_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_111").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_111") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2016, 2017);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2016_111_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_112").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_112") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2016, 2017);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2016_112_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_113").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_113") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2016, 2017);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2016_113_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_114").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_114") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2016, 2017);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2016_114_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_115").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_115") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2016, 2017);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2016_115_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_116").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_116") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2016, 2017);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2016_116_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_117").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_117") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2016, 2017);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2016_117_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_118").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_118") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2016, 2017);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2016_118_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_119").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_119") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2016, 2017);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2016_119_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_120").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_120") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2016, 2017);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2016_120_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_121").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_121") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2016, 2017);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2016_121_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_122").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_122") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2016, 2017);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2016_122_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_123").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_123") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2016, 2017);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2016_123_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_124").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_124") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2016, 2017);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2016_124_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_125").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_125") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2016, 2017);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2016_125_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_126").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_126") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2016, 2017);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2016_126_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_127").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_127") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2016, 2017);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2016_127_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_128").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_128") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2016, 2017);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2016_128_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_129").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_129") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2016, 2017);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2016_129_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_130").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_130") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2016, 2017);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2016_130_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_131").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_131") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2016, 2017);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2016_131_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_132").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_132") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2016, 2017);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2016_132_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_133").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_133") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2016, 2017);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2016_133_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_134").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_134") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2016, 2017);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2016_134_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_135").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_135") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2016, 2017);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2016_135_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_136").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_136") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2016, 2017);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2016_136_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_137").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_137") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2016, 2017);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2016_137_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_138").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_138") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2016, 2017);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2016_138_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_139").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_139") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2016, 2017);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2016_139_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_140").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_140") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2016, 2017);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2016_140_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_141").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_141") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2016, 2017);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2016_141_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_142").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_142") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2016, 2017);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2016_142_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_143").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_143") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2016, 2017);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2016_143_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_144").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_144") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2016, 2017);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2016_144_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_145").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_145") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2016, 2017);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2016_145_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_146").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_146") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2016, 2017);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2016_146_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_147").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_147") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2016, 2017);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2016_147_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_148").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_148") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2016, 2017);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2016_148_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_149").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_149") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2016, 2017);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2016_149_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_150").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_150") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2016, 2017);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2016_150_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_151").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_151") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2016, 2017);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2016_151_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_152").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_152") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2016, 2017);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2016_152_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_153").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_153") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2016, 2017);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2016_153_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_154").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_154") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2016, 2017);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2016_154_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_155").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_155") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2016, 2017);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2016_155_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_156").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_156") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2016, 2017);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2016_156_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_157").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_157") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2016, 2017);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2016_157_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_158").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_158") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2016, 2017);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2016_158_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_159").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_159") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2016, 2017);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2016_159_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_160").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_160") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2016, 2017);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2016_160_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_161").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_161") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2016, 2017);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2016_161_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_162").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_162") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2016, 2017);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2016_162_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_163").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_163") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2016, 2017);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2016_163_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_164").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_164") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2016, 2017);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2016_164_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_165").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_165") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2016, 2017);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2016_165_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_166").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_166") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2016, 2017);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2016_166_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_167").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_167") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2016, 2017);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2016_167_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_168").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_168") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2016, 2017);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2016_168_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_169").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_169") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2016, 2017);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2016_169_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_170").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_170") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2016, 2017);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2016_170_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_171").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_171") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2016, 2017);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2016_171_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_172").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_172") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2016, 2017);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2016_172_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_173").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_173") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2016, 2017);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2016_173_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_174").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_174") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2016, 2017);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2016_174_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_175").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_175") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2016, 2017);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2016_175_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_176").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_176") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2016, 2017);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2016_176_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_177").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_177") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2016, 2017);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2016_177_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_178").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_178") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2016, 2017);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2016_178_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_179").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_179") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2016, 2017);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2016_179_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_180").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_180") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2016, 2017);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2016_180_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_181").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_181") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2016, 2017);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2016_181_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_182").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_182") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2016, 2017);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2016_182_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_183").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_183") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2016, 2017);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2016_183_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_184").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_184") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2016, 2017);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2016_184_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_185").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_185") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2016, 2017);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2016_185_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_186").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_186") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2016, 2017);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2016_186_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_187").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_187") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2016, 2017);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2016_187_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_188").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_188") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2016, 2017);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2016_188_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_189").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_189") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2016, 2017);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2016_189_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_190").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_190") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2016, 2017);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2016_190_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_191").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_191") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2016, 2017);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2016_191_2016",
  fileFormat: "CSV",
});   



var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_1").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2016-01-01", "2017-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_1") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2016_1_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_2").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2016-01-01", "2017-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_2") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2016_2_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_3").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2016-01-01", "2017-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_3") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2016_3_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_4").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2016-01-01", "2017-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_4") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2016_4_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_5").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2016-01-01", "2017-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_5") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2016_5_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_6").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2016-01-01", "2017-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_6") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2016_6_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_7").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2016-01-01", "2017-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_7") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2016_7_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_8").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2016-01-01", "2017-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_8") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2016_8_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_9").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2016-01-01", "2017-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_9") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2016_9_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_10").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2016-01-01", "2017-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_10") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2016_10_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_11").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2016-01-01", "2017-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_11") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2016_11_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_12").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2016-01-01", "2017-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_12") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2016_12_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_13").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2016-01-01", "2017-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_13") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2016_13_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_14").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2016-01-01", "2017-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_14") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2016_14_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_15").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2016-01-01", "2017-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_15") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2016_15_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_16").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2016-01-01", "2017-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_16") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2016_16_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_17").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2016-01-01", "2017-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_17") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2016_17_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_18").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2016-01-01", "2017-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_18") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2016_18_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_19").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2016-01-01", "2017-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_19") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2016_19_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_20").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2016-01-01", "2017-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_20") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2016_20_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_21").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2016-01-01", "2017-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_21") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2016_21_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_22").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2016-01-01", "2017-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_22") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2016_22_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_23").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2016-01-01", "2017-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_23") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2016_23_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_24").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2016-01-01", "2017-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_24") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2016_24_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_25").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2016-01-01", "2017-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_25") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2016_25_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_26").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2016-01-01", "2017-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_26") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2016_26_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_27").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2016-01-01", "2017-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_27") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2016_27_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_28").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2016-01-01", "2017-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_28") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2016_28_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_29").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2016-01-01", "2017-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_29") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2016_29_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_30").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2016-01-01", "2017-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_30") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2016_30_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_31").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2016-01-01", "2017-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_31") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2016_31_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_32").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2016-01-01", "2017-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_32") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2016_32_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_33").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2016-01-01", "2017-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_33") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2016_33_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_34").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2016-01-01", "2017-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_34") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2016_34_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_35").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2016-01-01", "2017-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_35") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2016_35_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_36").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2016-01-01", "2017-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_36") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2016_36_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_37").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2016-01-01", "2017-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_37") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2016_37_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_38").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2016-01-01", "2017-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_38") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2016_38_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_39").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2016-01-01", "2017-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_39") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2016_39_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_40").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2016-01-01", "2017-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_40") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2016_40_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_41").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2016-01-01", "2017-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_41") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2016_41_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_42").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2016-01-01", "2017-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_42") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2016_42_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_43").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2016-01-01", "2017-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_43") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2016_43_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_44").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2016-01-01", "2017-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_44") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2016_44_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_45").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2016-01-01", "2017-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_45") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2016_45_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_46").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2016-01-01", "2017-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_46") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2016_46_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_47").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2016-01-01", "2017-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_47") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2016_47_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_48").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2016-01-01", "2017-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_48") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2016_48_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_49").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2016-01-01", "2017-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_49") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2016_49_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_50").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2016-01-01", "2017-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_50") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2016_50_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_51").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2016-01-01", "2017-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_51") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2016_51_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_52").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2016-01-01", "2017-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_52") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2016_52_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_53").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2016-01-01", "2017-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_53") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2016_53_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_54").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2016-01-01", "2017-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_54") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2016_54_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_55").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2016-01-01", "2017-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_55") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2016_55_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_56").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2016-01-01", "2017-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_56") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2016_56_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_57").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2016-01-01", "2017-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_57") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2016_57_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_58").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2016-01-01", "2017-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_58") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2016_58_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_59").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2016-01-01", "2017-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_59") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2016_59_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_60").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2016-01-01", "2017-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_60") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2016_60_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_61").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2016-01-01", "2017-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_61") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2016_61_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_62").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2016-01-01", "2017-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_62") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2016_62_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_63").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2016-01-01", "2017-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_63") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2016_63_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_64").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2016-01-01", "2017-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_64") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2016_64_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_65").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2016-01-01", "2017-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_65") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2016_65_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_66").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2016-01-01", "2017-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_66") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2016_66_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_67").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2016-01-01", "2017-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_67") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2016_67_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_69").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2016-01-01", "2017-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_69") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2016_69_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_70").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2016-01-01", "2017-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_70") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2016_70_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_71").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2016-01-01", "2017-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_71") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2016_71_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_72").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2016-01-01", "2017-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_72") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2016_72_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_73").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2016-01-01", "2017-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_73") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2016_73_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_74").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2016-01-01", "2017-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_74") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2016_74_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_75").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2016-01-01", "2017-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_75") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2016_75_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_76").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2016-01-01", "2017-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_76") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2016_76_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_77").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2016-01-01", "2017-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_77") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2016_77_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_78").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2016-01-01", "2017-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_78") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2016_78_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_79").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2016-01-01", "2017-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_79") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2016_79_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_80").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2016-01-01", "2017-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_80") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2016_80_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_81").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2016-01-01", "2017-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_81") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2016_81_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_82").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2016-01-01", "2017-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_82") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2016_82_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_83").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2016-01-01", "2017-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_83") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2016_83_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_84").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2016-01-01", "2017-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_84") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2016_84_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_85").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2016-01-01", "2017-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_85") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2016_85_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_86").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2016-01-01", "2017-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_86") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2016_86_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_87").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2016-01-01", "2017-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_87") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2016_87_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_88").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2016-01-01", "2017-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_88") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2016_88_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_89").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2016-01-01", "2017-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_89") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2016_89_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_90").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2016-01-01", "2017-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_90") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2016_90_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_91").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2016-01-01", "2017-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_91") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2016_91_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_92").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2016-01-01", "2017-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_92") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2016_92_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_93").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2016-01-01", "2017-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_93") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2016_93_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_94").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2016-01-01", "2017-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_94") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2016_94_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_95").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2016-01-01", "2017-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_95") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2016_95_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_96").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2016-01-01", "2017-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_96") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2016_96_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_97").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2016-01-01", "2017-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_97") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2016_97_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_98").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2016-01-01", "2017-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_98") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2016_98_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_99").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2016-01-01", "2017-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_99") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2016_99_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_100").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2016-01-01", "2017-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_100") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2016_100_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_101").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2016-01-01", "2017-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_101") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2016_101_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_102").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2016-01-01", "2017-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_102") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2016_102_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_103").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2016-01-01", "2017-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_103") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2016_103_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_104").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2016-01-01", "2017-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_104") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2016_104_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_105").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2016-01-01", "2017-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_105") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2016_105_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_106").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2016-01-01", "2017-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_106") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2016_106_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_107").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2016-01-01", "2017-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_107") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2016_107_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_108").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2016-01-01", "2017-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_108") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2016_108_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_109").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2016-01-01", "2017-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_109") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2016_109_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_110").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2016-01-01", "2017-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_110") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2016_110_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_111").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2016-01-01", "2017-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_111") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2016_111_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_112").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2016-01-01", "2017-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_112") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2016_112_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_113").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2016-01-01", "2017-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_113") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2016_113_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_114").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2016-01-01", "2017-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_114") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2016_114_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_115").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2016-01-01", "2017-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_115") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2016_115_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_116").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2016-01-01", "2017-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_116") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2016_116_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_117").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2016-01-01", "2017-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_117") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2016_117_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_118").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2016-01-01", "2017-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_118") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2016_118_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_119").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2016-01-01", "2017-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_119") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2016_119_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_120").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2016-01-01", "2017-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_120") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2016_120_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_121").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2016-01-01", "2017-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_121") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2016_121_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_122").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2016-01-01", "2017-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_122") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2016_122_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_123").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2016-01-01", "2017-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_123") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2016_123_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_124").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2016-01-01", "2017-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_124") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2016_124_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_125").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2016-01-01", "2017-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_125") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2016_125_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_126").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2016-01-01", "2017-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_126") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2016_126_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_127").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2016-01-01", "2017-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_127") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2016_127_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_128").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2016-01-01", "2017-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_128") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2016_128_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_129").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2016-01-01", "2017-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_129") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2016_129_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_130").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2016-01-01", "2017-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_130") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2016_130_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_131").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2016-01-01", "2017-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_131") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2016_131_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_132").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2016-01-01", "2017-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_132") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2016_132_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_133").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2016-01-01", "2017-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_133") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2016_133_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_134").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2016-01-01", "2017-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_134") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2016_134_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_135").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2016-01-01", "2017-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_135") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2016_135_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_136").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2016-01-01", "2017-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_136") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2016_136_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_137").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2016-01-01", "2017-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_137") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2016_137_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_138").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2016-01-01", "2017-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_138") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2016_138_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_139").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2016-01-01", "2017-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_139") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2016_139_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_140").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2016-01-01", "2017-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_140") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2016_140_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_141").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2016-01-01", "2017-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_141") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2016_141_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_142").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2016-01-01", "2017-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_142") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2016_142_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_143").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2016-01-01", "2017-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_143") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2016_143_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_144").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2016-01-01", "2017-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_144") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2016_144_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_145").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2016-01-01", "2017-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_145") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2016_145_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_146").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2016-01-01", "2017-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_146") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2016_146_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_147").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2016-01-01", "2017-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_147") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2016_147_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_148").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2016-01-01", "2017-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_148") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2016_148_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_149").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2016-01-01", "2017-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_149") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2016_149_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_150").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2016-01-01", "2017-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_150") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2016_150_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_151").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2016-01-01", "2017-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_151") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2016_151_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_152").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2016-01-01", "2017-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_152") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2016_152_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_153").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2016-01-01", "2017-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_153") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2016_153_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_154").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2016-01-01", "2017-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_154") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2016_154_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_155").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2016-01-01", "2017-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_155") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2016_155_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_156").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2016-01-01", "2017-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_156") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2016_156_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_157").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2016-01-01", "2017-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_157") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2016_157_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_158").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2016-01-01", "2017-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_158") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2016_158_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_159").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2016-01-01", "2017-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_159") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2016_159_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_160").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2016-01-01", "2017-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_160") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2016_160_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_161").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2016-01-01", "2017-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_161") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2016_161_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_162").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2016-01-01", "2017-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_162") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2016_162_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_163").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2016-01-01", "2017-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_163") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2016_163_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_164").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2016-01-01", "2017-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_164") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2016_164_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_165").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2016-01-01", "2017-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_165") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2016_165_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_166").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2016-01-01", "2017-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_166") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2016_166_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_167").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2016-01-01", "2017-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_167") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2016_167_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_168").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2016-01-01", "2017-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_168") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2016_168_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_169").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2016-01-01", "2017-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_169") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2016_169_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_170").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2016-01-01", "2017-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_170") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2016_170_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_171").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2016-01-01", "2017-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_171") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2016_171_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_172").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2016-01-01", "2017-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_172") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2016_172_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_173").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2016-01-01", "2017-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_173") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2016_173_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_174").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2016-01-01", "2017-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_174") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2016_174_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_175").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2016-01-01", "2017-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_175") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2016_175_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_176").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2016-01-01", "2017-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_176") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2016_176_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_177").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2016-01-01", "2017-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_177") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2016_177_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_178").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2016-01-01", "2017-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_178") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2016_178_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_179").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2016-01-01", "2017-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_179") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2016_179_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_180").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2016-01-01", "2017-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_180") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2016_180_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_181").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2016-01-01", "2017-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_181") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2016_181_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_182").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2016-01-01", "2017-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_182") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2016_182_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_183").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2016-01-01", "2017-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_183") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2016_183_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_184").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2016-01-01", "2017-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_184") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2016_184_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_185").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2016-01-01", "2017-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_185") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2016_185_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_186").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2016-01-01", "2017-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_186") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2016_186_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_187").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2016-01-01", "2017-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_187") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2016_187_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_188").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2016-01-01", "2017-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_188") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2016_188_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_189").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2016-01-01", "2017-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_189") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2016_189_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_190").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2016-01-01", "2017-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_190") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2016_190_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_191").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2016-01-01", "2017-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_191") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2016_191_2016",
  fileFormat: "CSV",
});   



var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_1").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_1") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2016_1_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_2").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_2") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2016_2_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_3").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_3") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2016_3_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_4").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_4") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2016_4_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_5").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_5") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2016_5_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_6").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_6") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2016_6_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_7").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_7") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2016_7_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_8").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_8") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2016_8_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_9").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_9") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2016_9_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_10").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_10") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2016_10_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_11").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_11") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2016_11_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_12").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_12") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2016_12_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_13").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_13") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2016_13_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_14").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_14") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2016_14_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_15").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_15") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2016_15_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_16").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_16") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2016_16_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_17").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_17") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2016_17_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_18").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_18") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2016_18_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_19").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_19") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2016_19_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_20").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_20") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2016_20_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_21").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_21") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2016_21_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_22").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_22") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2016_22_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_23").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_23") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2016_23_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_24").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_24") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2016_24_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_25").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_25") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2016_25_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_26").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_26") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2016_26_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_27").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_27") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2016_27_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_28").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_28") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2016_28_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_29").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_29") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2016_29_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_30").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_30") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2016_30_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_31").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_31") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2016_31_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_32").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_32") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2016_32_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_33").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_33") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2016_33_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_34").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_34") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2016_34_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_35").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_35") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2016_35_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_36").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_36") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2016_36_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_37").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_37") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2016_37_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_38").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_38") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2016_38_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_39").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_39") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2016_39_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_40").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_40") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2016_40_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_41").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_41") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2016_41_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_42").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_42") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2016_42_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_43").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_43") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2016_43_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_44").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_44") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2016_44_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_45").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_45") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2016_45_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_46").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_46") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2016_46_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_47").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_47") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2016_47_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_48").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_48") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2016_48_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_49").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_49") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2016_49_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_50").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_50") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2016_50_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_51").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_51") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2016_51_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_52").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_52") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2016_52_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_53").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_53") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2016_53_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_54").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_54") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2016_54_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_55").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_55") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2016_55_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_56").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_56") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2016_56_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_57").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_57") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2016_57_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_58").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_58") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2016_58_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_59").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_59") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2016_59_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_60").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_60") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2016_60_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_61").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_61") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2016_61_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_62").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_62") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2016_62_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_63").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_63") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2016_63_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_64").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_64") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2016_64_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_65").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_65") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2016_65_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_66").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_66") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2016_66_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_67").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_67") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2016_67_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_69").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_69") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2016_69_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_70").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_70") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2016_70_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_71").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_71") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2016_71_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_72").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_72") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2016_72_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_73").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_73") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2016_73_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_74").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_74") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2016_74_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_75").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_75") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2016_75_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_76").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_76") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2016_76_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_77").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_77") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2016_77_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_78").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_78") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2016_78_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_79").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_79") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2016_79_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_80").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_80") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2016_80_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_81").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_81") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2016_81_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_82").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_82") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2016_82_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_83").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_83") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2016_83_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_84").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_84") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2016_84_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_85").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_85") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2016_85_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_86").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_86") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2016_86_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_87").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_87") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2016_87_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_88").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_88") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2016_88_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_89").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_89") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2016_89_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_90").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_90") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2016_90_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_91").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_91") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2016_91_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_92").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_92") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2016_92_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_93").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_93") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2016_93_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_94").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_94") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2016_94_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_95").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_95") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2016_95_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_96").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_96") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2016_96_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_97").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_97") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2016_97_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_98").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_98") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2016_98_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_99").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_99") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2016_99_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_100").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_100") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2016_100_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_101").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_101") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2016_101_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_102").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_102") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2016_102_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_103").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_103") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2016_103_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_104").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_104") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2016_104_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_105").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_105") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2016_105_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_106").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_106") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2016_106_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_107").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_107") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2016_107_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_108").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_108") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2016_108_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_109").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_109") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2016_109_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_110").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_110") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2016_110_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_111").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_111") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2016_111_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_112").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_112") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2016_112_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_113").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_113") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2016_113_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_114").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_114") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2016_114_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_115").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_115") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2016_115_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_116").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_116") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2016_116_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_117").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_117") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2016_117_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_118").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_118") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2016_118_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_119").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_119") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2016_119_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_120").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_120") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2016_120_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_121").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_121") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2016_121_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_122").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_122") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2016_122_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_123").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_123") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2016_123_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_124").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_124") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2016_124_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_125").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_125") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2016_125_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_126").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_126") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2016_126_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_127").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_127") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2016_127_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_128").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_128") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2016_128_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_129").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_129") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2016_129_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_130").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_130") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2016_130_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_131").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_131") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2016_131_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_132").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_132") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2016_132_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_133").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_133") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2016_133_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_134").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_134") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2016_134_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_135").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_135") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2016_135_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_136").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_136") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2016_136_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_137").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_137") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2016_137_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_138").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_138") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2016_138_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_139").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_139") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2016_139_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_140").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_140") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2016_140_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_141").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_141") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2016_141_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_142").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_142") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2016_142_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_143").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_143") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2016_143_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_144").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_144") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2016_144_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_145").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_145") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2016_145_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_146").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_146") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2016_146_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_147").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_147") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2016_147_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_148").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_148") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2016_148_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_149").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_149") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2016_149_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_150").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_150") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2016_150_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_151").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_151") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2016_151_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_152").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_152") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2016_152_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_153").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_153") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2016_153_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_154").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_154") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2016_154_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_155").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_155") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2016_155_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_156").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_156") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2016_156_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_157").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_157") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2016_157_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_158").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_158") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2016_158_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_159").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_159") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2016_159_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_160").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_160") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2016_160_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_161").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_161") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2016_161_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_162").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_162") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2016_162_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_163").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_163") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2016_163_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_164").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_164") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2016_164_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_165").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_165") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2016_165_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_166").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_166") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2016_166_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_167").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_167") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2016_167_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_168").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_168") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2016_168_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_169").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_169") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2016_169_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_170").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_170") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2016_170_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_171").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_171") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2016_171_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_172").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_172") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2016_172_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_173").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_173") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2016_173_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_174").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_174") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2016_174_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_175").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_175") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2016_175_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_176").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_176") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2016_176_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_177").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_177") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2016_177_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_178").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_178") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2016_178_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_179").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_179") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2016_179_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_180").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_180") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2016_180_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_181").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_181") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2016_181_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_182").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_182") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2016_182_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_183").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_183") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2016_183_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_184").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_184") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2016_184_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_185").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_185") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2016_185_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_186").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_186") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2016_186_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_187").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_187") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2016_187_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_188").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_188") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2016_188_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_189").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_189") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2016_189_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_190").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_190") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2016_190_2016",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_191").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2016-01-01", "2017-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_191") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2016_191_2016",
  fileFormat: "CSV",
});   



var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_1").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_1") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2022, 2023);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2022_1_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_2").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_2") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2022, 2023);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2022_2_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_3").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_3") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2022, 2023);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2022_3_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_4").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_4") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2022, 2023);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2022_4_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_5").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_5") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2022, 2023);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2022_5_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_6").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_6") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2022, 2023);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2022_6_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_7").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_7") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2022, 2023);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2022_7_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_8").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_8") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2022, 2023);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2022_8_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_9").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_9") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2022, 2023);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2022_9_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_10").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_10") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2022, 2023);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2022_10_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_11").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_11") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2022, 2023);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2022_11_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_12").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_12") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2022, 2023);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2022_12_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_13").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_13") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2022, 2023);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2022_13_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_14").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_14") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2022, 2023);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2022_14_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_15").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_15") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2022, 2023);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2022_15_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_16").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_16") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2022, 2023);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2022_16_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_17").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_17") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2022, 2023);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2022_17_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_18").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_18") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2022, 2023);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2022_18_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_19").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_19") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2022, 2023);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2022_19_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_20").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_20") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2022, 2023);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2022_20_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_21").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_21") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2022, 2023);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2022_21_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_22").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_22") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2022, 2023);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2022_22_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_23").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_23") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2022, 2023);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2022_23_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_24").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_24") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2022, 2023);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2022_24_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_25").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_25") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2022, 2023);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2022_25_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_26").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_26") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2022, 2023);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2022_26_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_27").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_27") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2022, 2023);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2022_27_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_28").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_28") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2022, 2023);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2022_28_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_29").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_29") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2022, 2023);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2022_29_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_30").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_30") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2022, 2023);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2022_30_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_31").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_31") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2022, 2023);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2022_31_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_32").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_32") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2022, 2023);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2022_32_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_33").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_33") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2022, 2023);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2022_33_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_34").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_34") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2022, 2023);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2022_34_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_35").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_35") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2022, 2023);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2022_35_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_36").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_36") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2022, 2023);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2022_36_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_37").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_37") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2022, 2023);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2022_37_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_38").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_38") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2022, 2023);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2022_38_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_39").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_39") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2022, 2023);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2022_39_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_40").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_40") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2022, 2023);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2022_40_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_41").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_41") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2022, 2023);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2022_41_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_42").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_42") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2022, 2023);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2022_42_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_43").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_43") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2022, 2023);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2022_43_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_44").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_44") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2022, 2023);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2022_44_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_45").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_45") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2022, 2023);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2022_45_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_46").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_46") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2022, 2023);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2022_46_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_47").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_47") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2022, 2023);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2022_47_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_48").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_48") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2022, 2023);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2022_48_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_49").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_49") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2022, 2023);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2022_49_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_50").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_50") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2022, 2023);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2022_50_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_51").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_51") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2022, 2023);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2022_51_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_52").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_52") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2022, 2023);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2022_52_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_53").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_53") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2022, 2023);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2022_53_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_54").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_54") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2022, 2023);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2022_54_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_55").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_55") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2022, 2023);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2022_55_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_56").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_56") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2022, 2023);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2022_56_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_57").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_57") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2022, 2023);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2022_57_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_58").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_58") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2022, 2023);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2022_58_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_59").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_59") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2022, 2023);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2022_59_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_60").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_60") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2022, 2023);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2022_60_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_61").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_61") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2022, 2023);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2022_61_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_62").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_62") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2022, 2023);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2022_62_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_63").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_63") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2022, 2023);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2022_63_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_64").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_64") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2022, 2023);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2022_64_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_65").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_65") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2022, 2023);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2022_65_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_66").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_66") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2022, 2023);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2022_66_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_67").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_67") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2022, 2023);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2022_67_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_69").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_69") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2022, 2023);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2022_69_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_70").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_70") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2022, 2023);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2022_70_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_71").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_71") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2022, 2023);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2022_71_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_72").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_72") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2022, 2023);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2022_72_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_73").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_73") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2022, 2023);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2022_73_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_74").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_74") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2022, 2023);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2022_74_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_75").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_75") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2022, 2023);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2022_75_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_76").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_76") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2022, 2023);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2022_76_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_77").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_77") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2022, 2023);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2022_77_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_78").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_78") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2022, 2023);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2022_78_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_79").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_79") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2022, 2023);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2022_79_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_80").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_80") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2022, 2023);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2022_80_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_81").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_81") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2022, 2023);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2022_81_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_82").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_82") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2022, 2023);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2022_82_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_83").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_83") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2022, 2023);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2022_83_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_84").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_84") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2022, 2023);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2022_84_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_85").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_85") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2022, 2023);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2022_85_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_86").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_86") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2022, 2023);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2022_86_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_87").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_87") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2022, 2023);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2022_87_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_88").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_88") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2022, 2023);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2022_88_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_89").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_89") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2022, 2023);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2022_89_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_90").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_90") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2022, 2023);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2022_90_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_91").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_91") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2022, 2023);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2022_91_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_92").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_92") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2022, 2023);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2022_92_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_93").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_93") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2022, 2023);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2022_93_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_94").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_94") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2022, 2023);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2022_94_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_95").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_95") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2022, 2023);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2022_95_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_96").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_96") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2022, 2023);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2022_96_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_97").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_97") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2022, 2023);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2022_97_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_98").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_98") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2022, 2023);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2022_98_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_99").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_99") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2022, 2023);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2022_99_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_100").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_100") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2022, 2023);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2022_100_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_101").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_101") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2022, 2023);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2022_101_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_102").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_102") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2022, 2023);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2022_102_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_103").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_103") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2022, 2023);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2022_103_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_104").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_104") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2022, 2023);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2022_104_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_105").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_105") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2022, 2023);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2022_105_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_106").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_106") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2022, 2023);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2022_106_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_107").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_107") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2022, 2023);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2022_107_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_108").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_108") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2022, 2023);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2022_108_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_109").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_109") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2022, 2023);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2022_109_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_110").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_110") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2022, 2023);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2022_110_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_111").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_111") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2022, 2023);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2022_111_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_112").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_112") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2022, 2023);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2022_112_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_113").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_113") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2022, 2023);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2022_113_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_114").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_114") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2022, 2023);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2022_114_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_115").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_115") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2022, 2023);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2022_115_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_116").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_116") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2022, 2023);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2022_116_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_117").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_117") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2022, 2023);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2022_117_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_118").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_118") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2022, 2023);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2022_118_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_119").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_119") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2022, 2023);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2022_119_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_120").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_120") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2022, 2023);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2022_120_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_121").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_121") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2022, 2023);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2022_121_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_122").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_122") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2022, 2023);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2022_122_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_123").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_123") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2022, 2023);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2022_123_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_124").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_124") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2022, 2023);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2022_124_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_125").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_125") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2022, 2023);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2022_125_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_126").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_126") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2022, 2023);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2022_126_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_127").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_127") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2022, 2023);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2022_127_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_128").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_128") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2022, 2023);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2022_128_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_129").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_129") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2022, 2023);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2022_129_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_130").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_130") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2022, 2023);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2022_130_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_131").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_131") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2022, 2023);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2022_131_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_132").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_132") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2022, 2023);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2022_132_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_133").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_133") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2022, 2023);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2022_133_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_134").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_134") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2022, 2023);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2022_134_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_135").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_135") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2022, 2023);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2022_135_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_136").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_136") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2022, 2023);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2022_136_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_137").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_137") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2022, 2023);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2022_137_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_138").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_138") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2022, 2023);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2022_138_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_139").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_139") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2022, 2023);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2022_139_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_140").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_140") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2022, 2023);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2022_140_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_141").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_141") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2022, 2023);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2022_141_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_142").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_142") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2022, 2023);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2022_142_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_143").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_143") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2022, 2023);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2022_143_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_144").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_144") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2022, 2023);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2022_144_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_145").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_145") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2022, 2023);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2022_145_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_146").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_146") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2022, 2023);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2022_146_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_147").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_147") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2022, 2023);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2022_147_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_148").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_148") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2022, 2023);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2022_148_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_149").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_149") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2022, 2023);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2022_149_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_150").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_150") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2022, 2023);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2022_150_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_151").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_151") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2022, 2023);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2022_151_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_152").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_152") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2022, 2023);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2022_152_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_153").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_153") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2022, 2023);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2022_153_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_154").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_154") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2022, 2023);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2022_154_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_155").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_155") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2022, 2023);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2022_155_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_156").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_156") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2022, 2023);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2022_156_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_157").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_157") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2022, 2023);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2022_157_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_158").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_158") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2022, 2023);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2022_158_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_159").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_159") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2022, 2023);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2022_159_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_160").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_160") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2022, 2023);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2022_160_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_161").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_161") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2022, 2023);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2022_161_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_162").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_162") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2022, 2023);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2022_162_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_163").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_163") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2022, 2023);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2022_163_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_164").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_164") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2022, 2023);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2022_164_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_165").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_165") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2022, 2023);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2022_165_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_166").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_166") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2022, 2023);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2022_166_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_167").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_167") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2022, 2023);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2022_167_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_168").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_168") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2022, 2023);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2022_168_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_169").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_169") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2022, 2023);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2022_169_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_170").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_170") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2022, 2023);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2022_170_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_171").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_171") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2022, 2023);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2022_171_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_172").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_172") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2022, 2023);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2022_172_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_173").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_173") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2022, 2023);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2022_173_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_174").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_174") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2022, 2023);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2022_174_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_175").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_175") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2022, 2023);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2022_175_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_176").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_176") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2022, 2023);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2022_176_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_177").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_177") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2022, 2023);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2022_177_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_178").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_178") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2022, 2023);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2022_178_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_179").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_179") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2022, 2023);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2022_179_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_180").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_180") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2022, 2023);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2022_180_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_181").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_181") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2022, 2023);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2022_181_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_182").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_182") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2022, 2023);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2022_182_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_183").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_183") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2022, 2023);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2022_183_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_184").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_184") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2022, 2023);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2022_184_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_185").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_185") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2022, 2023);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2022_185_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_186").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_186") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2022, 2023);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2022_186_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_187").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_187") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2022, 2023);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2022_187_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_188").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_188") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2022, 2023);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2022_188_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_189").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_189") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2022, 2023);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2022_189_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_190").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_190") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2022, 2023);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2022_190_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_191").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var collection = ee.ImageCollection("COPERNICUS/S2").filter(COL_FILTER)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_191") 

//Use a function to iterate through months and calculate average NDVI
var months = ee.List.sequence(1, 12);
//print("months",months);
var years = ee.List.sequence(2022, 2023);
//print("years",years);

var addNDVI = function(image) {
  return image.addBands(image.normalizedDifference(["B8", "B4"]))}

// Map filtering and reducing across year-month combinations and convert to ImageCollection
var yrMo = ee.ImageCollection.fromImages(
    months.map(function (m) {
      return collection
      .filter(ee.Filter.calendarRange(m, m, "month"))
      .map(addNDVI)
      .median()
      .set("month",m);
    }));

var reduced = yrMo.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_2022_191_2022",
  fileFormat: "CSV",
});   



var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_1").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2022-01-01", "2023-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_1") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2022_1_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_2").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2022-01-01", "2023-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_2") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2022_2_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_3").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2022-01-01", "2023-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_3") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2022_3_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_4").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2022-01-01", "2023-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_4") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2022_4_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_5").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2022-01-01", "2023-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_5") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2022_5_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_6").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2022-01-01", "2023-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_6") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2022_6_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_7").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2022-01-01", "2023-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_7") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2022_7_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_8").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2022-01-01", "2023-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_8") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2022_8_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_9").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2022-01-01", "2023-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_9") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2022_9_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_10").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2022-01-01", "2023-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_10") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2022_10_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_11").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2022-01-01", "2023-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_11") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2022_11_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_12").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2022-01-01", "2023-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_12") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2022_12_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_13").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2022-01-01", "2023-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_13") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2022_13_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_14").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2022-01-01", "2023-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_14") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2022_14_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_15").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2022-01-01", "2023-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_15") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2022_15_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_16").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2022-01-01", "2023-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_16") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2022_16_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_17").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2022-01-01", "2023-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_17") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2022_17_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_18").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2022-01-01", "2023-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_18") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2022_18_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_19").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2022-01-01", "2023-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_19") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2022_19_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_20").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2022-01-01", "2023-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_20") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2022_20_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_21").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2022-01-01", "2023-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_21") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2022_21_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_22").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2022-01-01", "2023-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_22") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2022_22_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_23").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2022-01-01", "2023-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_23") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2022_23_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_24").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2022-01-01", "2023-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_24") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2022_24_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_25").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2022-01-01", "2023-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_25") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2022_25_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_26").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2022-01-01", "2023-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_26") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2022_26_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_27").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2022-01-01", "2023-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_27") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2022_27_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_28").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2022-01-01", "2023-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_28") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2022_28_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_29").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2022-01-01", "2023-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_29") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2022_29_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_30").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2022-01-01", "2023-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_30") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2022_30_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_31").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2022-01-01", "2023-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_31") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2022_31_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_32").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2022-01-01", "2023-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_32") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2022_32_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_33").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2022-01-01", "2023-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_33") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2022_33_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_34").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2022-01-01", "2023-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_34") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2022_34_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_35").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2022-01-01", "2023-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_35") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2022_35_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_36").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2022-01-01", "2023-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_36") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2022_36_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_37").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2022-01-01", "2023-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_37") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2022_37_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_38").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2022-01-01", "2023-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_38") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2022_38_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_39").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2022-01-01", "2023-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_39") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2022_39_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_40").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2022-01-01", "2023-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_40") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2022_40_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_41").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2022-01-01", "2023-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_41") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2022_41_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_42").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2022-01-01", "2023-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_42") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2022_42_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_43").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2022-01-01", "2023-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_43") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2022_43_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_44").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2022-01-01", "2023-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_44") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2022_44_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_45").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2022-01-01", "2023-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_45") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2022_45_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_46").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2022-01-01", "2023-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_46") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2022_46_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_47").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2022-01-01", "2023-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_47") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2022_47_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_48").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2022-01-01", "2023-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_48") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2022_48_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_49").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2022-01-01", "2023-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_49") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2022_49_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_50").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2022-01-01", "2023-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_50") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2022_50_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_51").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2022-01-01", "2023-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_51") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2022_51_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_52").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2022-01-01", "2023-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_52") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2022_52_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_53").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2022-01-01", "2023-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_53") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2022_53_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_54").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2022-01-01", "2023-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_54") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2022_54_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_55").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2022-01-01", "2023-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_55") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2022_55_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_56").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2022-01-01", "2023-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_56") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2022_56_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_57").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2022-01-01", "2023-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_57") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2022_57_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_58").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2022-01-01", "2023-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_58") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2022_58_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_59").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2022-01-01", "2023-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_59") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2022_59_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_60").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2022-01-01", "2023-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_60") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2022_60_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_61").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2022-01-01", "2023-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_61") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2022_61_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_62").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2022-01-01", "2023-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_62") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2022_62_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_63").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2022-01-01", "2023-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_63") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2022_63_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_64").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2022-01-01", "2023-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_64") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2022_64_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_65").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2022-01-01", "2023-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_65") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2022_65_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_66").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2022-01-01", "2023-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_66") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2022_66_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_67").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2022-01-01", "2023-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_67") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2022_67_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_69").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2022-01-01", "2023-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_69") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2022_69_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_70").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2022-01-01", "2023-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_70") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2022_70_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_71").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2022-01-01", "2023-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_71") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2022_71_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_72").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2022-01-01", "2023-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_72") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2022_72_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_73").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2022-01-01", "2023-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_73") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2022_73_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_74").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2022-01-01", "2023-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_74") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2022_74_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_75").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2022-01-01", "2023-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_75") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2022_75_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_76").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2022-01-01", "2023-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_76") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2022_76_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_77").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2022-01-01", "2023-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_77") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2022_77_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_78").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2022-01-01", "2023-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_78") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2022_78_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_79").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2022-01-01", "2023-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_79") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2022_79_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_80").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2022-01-01", "2023-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_80") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2022_80_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_81").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2022-01-01", "2023-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_81") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2022_81_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_82").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2022-01-01", "2023-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_82") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2022_82_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_83").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2022-01-01", "2023-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_83") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2022_83_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_84").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2022-01-01", "2023-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_84") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2022_84_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_85").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2022-01-01", "2023-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_85") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2022_85_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_86").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2022-01-01", "2023-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_86") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2022_86_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_87").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2022-01-01", "2023-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_87") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2022_87_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_88").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2022-01-01", "2023-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_88") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2022_88_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_89").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2022-01-01", "2023-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_89") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2022_89_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_90").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2022-01-01", "2023-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_90") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2022_90_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_91").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2022-01-01", "2023-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_91") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2022_91_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_92").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2022-01-01", "2023-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_92") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2022_92_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_93").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2022-01-01", "2023-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_93") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2022_93_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_94").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2022-01-01", "2023-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_94") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2022_94_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_95").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2022-01-01", "2023-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_95") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2022_95_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_96").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2022-01-01", "2023-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_96") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2022_96_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_97").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2022-01-01", "2023-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_97") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2022_97_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_98").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2022-01-01", "2023-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_98") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2022_98_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_99").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2022-01-01", "2023-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_99") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2022_99_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_100").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2022-01-01", "2023-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_100") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2022_100_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_101").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2022-01-01", "2023-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_101") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2022_101_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_102").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2022-01-01", "2023-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_102") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2022_102_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_103").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2022-01-01", "2023-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_103") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2022_103_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_104").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2022-01-01", "2023-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_104") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2022_104_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_105").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2022-01-01", "2023-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_105") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2022_105_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_106").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2022-01-01", "2023-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_106") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2022_106_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_107").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2022-01-01", "2023-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_107") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2022_107_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_108").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2022-01-01", "2023-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_108") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2022_108_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_109").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2022-01-01", "2023-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_109") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2022_109_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_110").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2022-01-01", "2023-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_110") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2022_110_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_111").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2022-01-01", "2023-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_111") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2022_111_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_112").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2022-01-01", "2023-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_112") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2022_112_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_113").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2022-01-01", "2023-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_113") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2022_113_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_114").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2022-01-01", "2023-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_114") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2022_114_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_115").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2022-01-01", "2023-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_115") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2022_115_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_116").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2022-01-01", "2023-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_116") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2022_116_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_117").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2022-01-01", "2023-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_117") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2022_117_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_118").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2022-01-01", "2023-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_118") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2022_118_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_119").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2022-01-01", "2023-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_119") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2022_119_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_120").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2022-01-01", "2023-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_120") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2022_120_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_121").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2022-01-01", "2023-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_121") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2022_121_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_122").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2022-01-01", "2023-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_122") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2022_122_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_123").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2022-01-01", "2023-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_123") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2022_123_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_124").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2022-01-01", "2023-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_124") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2022_124_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_125").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2022-01-01", "2023-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_125") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2022_125_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_126").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2022-01-01", "2023-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_126") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2022_126_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_127").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2022-01-01", "2023-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_127") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2022_127_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_128").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2022-01-01", "2023-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_128") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2022_128_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_129").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2022-01-01", "2023-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_129") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2022_129_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_130").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2022-01-01", "2023-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_130") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2022_130_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_131").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2022-01-01", "2023-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_131") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2022_131_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_132").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2022-01-01", "2023-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_132") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2022_132_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_133").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2022-01-01", "2023-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_133") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2022_133_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_134").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2022-01-01", "2023-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_134") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2022_134_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_135").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2022-01-01", "2023-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_135") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2022_135_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_136").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2022-01-01", "2023-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_136") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2022_136_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_137").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2022-01-01", "2023-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_137") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2022_137_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_138").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2022-01-01", "2023-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_138") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2022_138_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_139").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2022-01-01", "2023-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_139") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2022_139_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_140").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2022-01-01", "2023-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_140") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2022_140_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_141").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2022-01-01", "2023-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_141") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2022_141_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_142").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2022-01-01", "2023-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_142") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2022_142_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_143").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2022-01-01", "2023-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_143") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2022_143_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_144").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2022-01-01", "2023-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_144") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2022_144_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_145").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2022-01-01", "2023-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_145") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2022_145_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_146").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2022-01-01", "2023-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_146") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2022_146_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_147").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2022-01-01", "2023-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_147") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2022_147_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_148").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2022-01-01", "2023-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_148") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2022_148_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_149").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2022-01-01", "2023-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_149") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2022_149_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_150").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2022-01-01", "2023-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_150") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2022_150_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_151").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2022-01-01", "2023-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_151") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2022_151_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_152").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2022-01-01", "2023-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_152") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2022_152_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_153").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2022-01-01", "2023-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_153") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2022_153_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_154").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2022-01-01", "2023-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_154") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2022_154_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_155").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2022-01-01", "2023-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_155") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2022_155_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_156").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2022-01-01", "2023-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_156") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2022_156_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_157").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2022-01-01", "2023-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_157") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2022_157_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_158").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2022-01-01", "2023-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_158") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2022_158_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_159").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2022-01-01", "2023-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_159") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2022_159_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_160").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2022-01-01", "2023-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_160") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2022_160_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_161").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2022-01-01", "2023-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_161") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2022_161_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_162").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2022-01-01", "2023-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_162") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2022_162_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_163").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2022-01-01", "2023-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_163") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2022_163_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_164").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2022-01-01", "2023-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_164") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2022_164_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_165").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2022-01-01", "2023-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_165") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2022_165_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_166").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2022-01-01", "2023-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_166") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2022_166_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_167").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2022-01-01", "2023-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_167") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2022_167_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_168").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2022-01-01", "2023-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_168") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2022_168_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_169").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2022-01-01", "2023-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_169") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2022_169_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_170").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2022-01-01", "2023-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_170") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2022_170_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_171").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2022-01-01", "2023-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_171") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2022_171_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_172").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2022-01-01", "2023-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_172") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2022_172_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_173").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2022-01-01", "2023-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_173") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2022_173_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_174").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2022-01-01", "2023-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_174") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2022_174_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_175").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2022-01-01", "2023-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_175") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2022_175_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_176").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2022-01-01", "2023-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_176") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2022_176_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_177").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2022-01-01", "2023-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_177") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2022_177_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_178").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2022-01-01", "2023-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_178") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2022_178_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_179").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2022-01-01", "2023-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_179") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2022_179_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_180").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2022-01-01", "2023-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_180") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2022_180_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_181").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2022-01-01", "2023-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_181") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2022_181_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_182").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2022-01-01", "2023-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_182") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2022_182_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_183").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2022-01-01", "2023-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_183") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2022_183_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_184").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2022-01-01", "2023-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_184") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2022_184_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_185").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2022-01-01", "2023-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_185") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2022_185_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_186").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2022-01-01", "2023-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_186") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2022_186_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_187").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2022-01-01", "2023-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_187") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2022_187_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_188").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2022-01-01", "2023-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_188") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2022_188_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_189").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2022-01-01", "2023-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_189") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2022_189_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_190").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2022-01-01", "2023-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_190") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2022_190_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_191").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

//get MODIS NDVI
var era5 = ee.ImageCollection("ECMWF/ERA5_LAND/MONTHLY_AGGR") .filter(ee.Filter.date("2022-01-01", "2023-01-01")).select(["temperature_2m", "total_precipitation_sum", "surface_pressure", "u_component_of_wind_10m", "v_component_of_wind_10m"])

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_191") 

var reduced = era5.map(function(image){
  return image.toDouble().add(0).reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_era_2022_191_2022",
  fileFormat: "CSV",
});   



var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_1").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_1") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2022_1_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_2").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_2") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2022_2_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_3").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_3") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2022_3_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_4").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_4") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2022_4_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_5").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_5") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2022_5_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_6").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_6") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2022_6_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_7").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_7") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2022_7_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_8").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_8") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2022_8_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_9").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_9") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2022_9_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_10").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_10") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2022_10_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_11").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_11") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2022_11_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_12").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_12") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2022_12_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_13").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_13") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2022_13_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_14").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_14") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2022_14_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_15").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_15") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2022_15_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_16").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_16") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2022_16_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_17").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_17") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2022_17_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_18").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_18") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2022_18_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_19").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_19") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2022_19_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_20").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_20") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2022_20_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_21").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_21") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2022_21_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_22").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_22") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2022_22_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_23").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_23") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2022_23_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_24").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_24") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2022_24_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_25").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_25") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2022_25_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_26").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_26") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2022_26_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_27").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_27") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2022_27_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_28").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_28") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2022_28_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_29").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_29") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2022_29_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_30").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_30") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2022_30_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_31").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_31") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2022_31_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_32").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_32") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2022_32_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_33").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_33") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2022_33_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_34").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_34") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2022_34_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_35").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_35") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2022_35_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_36").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_36") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2022_36_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_37").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_37") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2022_37_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_38").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_38") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2022_38_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_39").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_39") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2022_39_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_40").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_40") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2022_40_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_41").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_41") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2022_41_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_42").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_42") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2022_42_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_43").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_43") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2022_43_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_44").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_44") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2022_44_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_45").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_45") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2022_45_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_46").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_46") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2022_46_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_47").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_47") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2022_47_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_48").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_48") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2022_48_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_49").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_49") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2022_49_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_50").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_50") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2022_50_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_51").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_51") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2022_51_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_52").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_52") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2022_52_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_53").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_53") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2022_53_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_54").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_54") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2022_54_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_55").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_55") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2022_55_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_56").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_56") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2022_56_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_57").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_57") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2022_57_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_58").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_58") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2022_58_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_59").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_59") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2022_59_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_60").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_60") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2022_60_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_61").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_61") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2022_61_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_62").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_62") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2022_62_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_63").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_63") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2022_63_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_64").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_64") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2022_64_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_65").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_65") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2022_65_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_66").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_66") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2022_66_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_67").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_67") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2022_67_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_69").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_69") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2022_69_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_70").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_70") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2022_70_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_71").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_71") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2022_71_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_72").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_72") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2022_72_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_73").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_73") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2022_73_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_74").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_74") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2022_74_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_75").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_75") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2022_75_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_76").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_76") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2022_76_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_77").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_77") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2022_77_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_78").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_78") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2022_78_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_79").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_79") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2022_79_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_80").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_80") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2022_80_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_81").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_81") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2022_81_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_82").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_82") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2022_82_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_83").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_83") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2022_83_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_84").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_84") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2022_84_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_85").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_85") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2022_85_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_86").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_86") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2022_86_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_87").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_87") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2022_87_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_88").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_88") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2022_88_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_89").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_89") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2022_89_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_90").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_90") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2022_90_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_91").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_91") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2022_91_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_92").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_92") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2022_92_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_93").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_93") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2022_93_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_94").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_94") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2022_94_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_95").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_95") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2022_95_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_96").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_96") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2022_96_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_97").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_97") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2022_97_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_98").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_98") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2022_98_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_99").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_99") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2022_99_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_100").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_100") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2022_100_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_101").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_101") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2022_101_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_102").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_102") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2022_102_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_103").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_103") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2022_103_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_104").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_104") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2022_104_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_105").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_105") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2022_105_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_106").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_106") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2022_106_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_107").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_107") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2022_107_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_108").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_108") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2022_108_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_109").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_109") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2022_109_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_110").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_110") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2022_110_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_111").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_111") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2022_111_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_112").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_112") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2022_112_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_113").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_113") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2022_113_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_114").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_114") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2022_114_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_115").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_115") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2022_115_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_116").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_116") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2022_116_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_117").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_117") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2022_117_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_118").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_118") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2022_118_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_119").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_119") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2022_119_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_120").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_120") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2022_120_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_121").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_121") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2022_121_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_122").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_122") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2022_122_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_123").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_123") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2022_123_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_124").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_124") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2022_124_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_125").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_125") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2022_125_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_126").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_126") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2022_126_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_127").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_127") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2022_127_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_128").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_128") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2022_128_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_129").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_129") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2022_129_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_130").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_130") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2022_130_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_131").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_131") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2022_131_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_132").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_132") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2022_132_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_133").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_133") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2022_133_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_134").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_134") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2022_134_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_135").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_135") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2022_135_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_136").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_136") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2022_136_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_137").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_137") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2022_137_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_138").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_138") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2022_138_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_139").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_139") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2022_139_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_140").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_140") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2022_140_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_141").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_141") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2022_141_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_142").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_142") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2022_142_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_143").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_143") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2022_143_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_144").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_144") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2022_144_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_145").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_145") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2022_145_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_146").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_146") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2022_146_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_147").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_147") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2022_147_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_148").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_148") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2022_148_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_149").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_149") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2022_149_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_150").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_150") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2022_150_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_151").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_151") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2022_151_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_152").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_152") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2022_152_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_153").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_153") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2022_153_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_154").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_154") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2022_154_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_155").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_155") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2022_155_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_156").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_156") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2022_156_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_157").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_157") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2022_157_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_158").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_158") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2022_158_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_159").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_159") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2022_159_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_160").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_160") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2022_160_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_161").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_161") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2022_161_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_162").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_162") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2022_162_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_163").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_163") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2022_163_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_164").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_164") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2022_164_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_165").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_165") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2022_165_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_166").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_166") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2022_166_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_167").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_167") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2022_167_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_168").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_168") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2022_168_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_169").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_169") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2022_169_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_170").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_170") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2022_170_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_171").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_171") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2022_171_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_172").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_172") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2022_172_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_173").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_173") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2022_173_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_174").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_174") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2022_174_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_175").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_175") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2022_175_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_176").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_176") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2022_176_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_177").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_177") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2022_177_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_178").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_178") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2022_178_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_179").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_179") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2022_179_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_180").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_180") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2022_180_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_181").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_181") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2022_181_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_182").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_182") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2022_182_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_183").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_183") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2022_183_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_184").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_184") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2022_184_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_185").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_185") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2022_185_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_186").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_186") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2022_186_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_187").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_187") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2022_187_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_188").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_188") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2022_188_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_189").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_189") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2022_189_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_190").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_190") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2022_190_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_191").geometry().bounds()

var COL_FILTER = ee.Filter.and(
  ee.Filter.date("2022-01-01", "2023-01-01"));

var dwCol = ee.ImageCollection("GOOGLE/DYNAMICWORLD/V1").filter(COL_FILTER);
var dwImage = ee.ImageCollection(dwCol.median())

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_191") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(), 
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_lc_2022_191_2022",
  fileFormat: "CSV",
});   



var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_1").geometry().bounds()

var dwImage = ee.Image("users/giacomofalchetta/ghs_pop_2022")
var dwImage = ee.ImageCollection(dwImage)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_1") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(),
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_pop1_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_2").geometry().bounds()

var dwImage = ee.Image("users/giacomofalchetta/ghs_pop_2022")
var dwImage = ee.ImageCollection(dwImage)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_2") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(),
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_pop2_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_3").geometry().bounds()

var dwImage = ee.Image("users/giacomofalchetta/ghs_pop_2022")
var dwImage = ee.ImageCollection(dwImage)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_3") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(),
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_pop3_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_4").geometry().bounds()

var dwImage = ee.Image("users/giacomofalchetta/ghs_pop_2022")
var dwImage = ee.ImageCollection(dwImage)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_4") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(),
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_pop4_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_5").geometry().bounds()

var dwImage = ee.Image("users/giacomofalchetta/ghs_pop_2022")
var dwImage = ee.ImageCollection(dwImage)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_5") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(),
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_pop5_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_6").geometry().bounds()

var dwImage = ee.Image("users/giacomofalchetta/ghs_pop_2022")
var dwImage = ee.ImageCollection(dwImage)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_6") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(),
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_pop6_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_7").geometry().bounds()

var dwImage = ee.Image("users/giacomofalchetta/ghs_pop_2022")
var dwImage = ee.ImageCollection(dwImage)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_7") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(),
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_pop7_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_8").geometry().bounds()

var dwImage = ee.Image("users/giacomofalchetta/ghs_pop_2022")
var dwImage = ee.ImageCollection(dwImage)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_8") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(),
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_pop8_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_9").geometry().bounds()

var dwImage = ee.Image("users/giacomofalchetta/ghs_pop_2022")
var dwImage = ee.ImageCollection(dwImage)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_9") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(),
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_pop9_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_10").geometry().bounds()

var dwImage = ee.Image("users/giacomofalchetta/ghs_pop_2022")
var dwImage = ee.ImageCollection(dwImage)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_10") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(),
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_pop10_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_11").geometry().bounds()

var dwImage = ee.Image("users/giacomofalchetta/ghs_pop_2022")
var dwImage = ee.ImageCollection(dwImage)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_11") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(),
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_pop11_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_12").geometry().bounds()

var dwImage = ee.Image("users/giacomofalchetta/ghs_pop_2022")
var dwImage = ee.ImageCollection(dwImage)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_12") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(),
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_pop12_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_13").geometry().bounds()

var dwImage = ee.Image("users/giacomofalchetta/ghs_pop_2022")
var dwImage = ee.ImageCollection(dwImage)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_13") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(),
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_pop13_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_14").geometry().bounds()

var dwImage = ee.Image("users/giacomofalchetta/ghs_pop_2022")
var dwImage = ee.ImageCollection(dwImage)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_14") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(),
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_pop14_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_15").geometry().bounds()

var dwImage = ee.Image("users/giacomofalchetta/ghs_pop_2022")
var dwImage = ee.ImageCollection(dwImage)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_15") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(),
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_pop15_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_16").geometry().bounds()

var dwImage = ee.Image("users/giacomofalchetta/ghs_pop_2022")
var dwImage = ee.ImageCollection(dwImage)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_16") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(),
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_pop16_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_17").geometry().bounds()

var dwImage = ee.Image("users/giacomofalchetta/ghs_pop_2022")
var dwImage = ee.ImageCollection(dwImage)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_17") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(),
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_pop17_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_18").geometry().bounds()

var dwImage = ee.Image("users/giacomofalchetta/ghs_pop_2022")
var dwImage = ee.ImageCollection(dwImage)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_18") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(),
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_pop18_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_19").geometry().bounds()

var dwImage = ee.Image("users/giacomofalchetta/ghs_pop_2022")
var dwImage = ee.ImageCollection(dwImage)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_19") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(),
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_pop19_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_20").geometry().bounds()

var dwImage = ee.Image("users/giacomofalchetta/ghs_pop_2022")
var dwImage = ee.ImageCollection(dwImage)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_20") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(),
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_pop20_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_21").geometry().bounds()

var dwImage = ee.Image("users/giacomofalchetta/ghs_pop_2022")
var dwImage = ee.ImageCollection(dwImage)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_21") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(),
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_pop21_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_22").geometry().bounds()

var dwImage = ee.Image("users/giacomofalchetta/ghs_pop_2022")
var dwImage = ee.ImageCollection(dwImage)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_22") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(),
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_pop22_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_23").geometry().bounds()

var dwImage = ee.Image("users/giacomofalchetta/ghs_pop_2022")
var dwImage = ee.ImageCollection(dwImage)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_23") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(),
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_pop23_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_24").geometry().bounds()

var dwImage = ee.Image("users/giacomofalchetta/ghs_pop_2022")
var dwImage = ee.ImageCollection(dwImage)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_24") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(),
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_pop24_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_25").geometry().bounds()

var dwImage = ee.Image("users/giacomofalchetta/ghs_pop_2022")
var dwImage = ee.ImageCollection(dwImage)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_25") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(),
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_pop25_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_26").geometry().bounds()

var dwImage = ee.Image("users/giacomofalchetta/ghs_pop_2022")
var dwImage = ee.ImageCollection(dwImage)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_26") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(),
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_pop26_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_27").geometry().bounds()

var dwImage = ee.Image("users/giacomofalchetta/ghs_pop_2022")
var dwImage = ee.ImageCollection(dwImage)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_27") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(),
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_pop27_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_28").geometry().bounds()

var dwImage = ee.Image("users/giacomofalchetta/ghs_pop_2022")
var dwImage = ee.ImageCollection(dwImage)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_28") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(),
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_pop28_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_29").geometry().bounds()

var dwImage = ee.Image("users/giacomofalchetta/ghs_pop_2022")
var dwImage = ee.ImageCollection(dwImage)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_29") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(),
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_pop29_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_30").geometry().bounds()

var dwImage = ee.Image("users/giacomofalchetta/ghs_pop_2022")
var dwImage = ee.ImageCollection(dwImage)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_30") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(),
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_pop30_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_31").geometry().bounds()

var dwImage = ee.Image("users/giacomofalchetta/ghs_pop_2022")
var dwImage = ee.ImageCollection(dwImage)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_31") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(),
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_pop31_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_32").geometry().bounds()

var dwImage = ee.Image("users/giacomofalchetta/ghs_pop_2022")
var dwImage = ee.ImageCollection(dwImage)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_32") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(),
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_pop32_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_33").geometry().bounds()

var dwImage = ee.Image("users/giacomofalchetta/ghs_pop_2022")
var dwImage = ee.ImageCollection(dwImage)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_33") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(),
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_pop33_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_34").geometry().bounds()

var dwImage = ee.Image("users/giacomofalchetta/ghs_pop_2022")
var dwImage = ee.ImageCollection(dwImage)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_34") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(),
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_pop34_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_35").geometry().bounds()

var dwImage = ee.Image("users/giacomofalchetta/ghs_pop_2022")
var dwImage = ee.ImageCollection(dwImage)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_35") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(),
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_pop35_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_36").geometry().bounds()

var dwImage = ee.Image("users/giacomofalchetta/ghs_pop_2022")
var dwImage = ee.ImageCollection(dwImage)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_36") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(),
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_pop36_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_37").geometry().bounds()

var dwImage = ee.Image("users/giacomofalchetta/ghs_pop_2022")
var dwImage = ee.ImageCollection(dwImage)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_37") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(),
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_pop37_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_38").geometry().bounds()

var dwImage = ee.Image("users/giacomofalchetta/ghs_pop_2022")
var dwImage = ee.ImageCollection(dwImage)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_38") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(),
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_pop38_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_39").geometry().bounds()

var dwImage = ee.Image("users/giacomofalchetta/ghs_pop_2022")
var dwImage = ee.ImageCollection(dwImage)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_39") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(),
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_pop39_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_40").geometry().bounds()

var dwImage = ee.Image("users/giacomofalchetta/ghs_pop_2022")
var dwImage = ee.ImageCollection(dwImage)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_40") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(),
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_pop40_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_41").geometry().bounds()

var dwImage = ee.Image("users/giacomofalchetta/ghs_pop_2022")
var dwImage = ee.ImageCollection(dwImage)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_41") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(),
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_pop41_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_42").geometry().bounds()

var dwImage = ee.Image("users/giacomofalchetta/ghs_pop_2022")
var dwImage = ee.ImageCollection(dwImage)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_42") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(),
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_pop42_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_43").geometry().bounds()

var dwImage = ee.Image("users/giacomofalchetta/ghs_pop_2022")
var dwImage = ee.ImageCollection(dwImage)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_43") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(),
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_pop43_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_44").geometry().bounds()

var dwImage = ee.Image("users/giacomofalchetta/ghs_pop_2022")
var dwImage = ee.ImageCollection(dwImage)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_44") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(),
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_pop44_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_45").geometry().bounds()

var dwImage = ee.Image("users/giacomofalchetta/ghs_pop_2022")
var dwImage = ee.ImageCollection(dwImage)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_45") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(),
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_pop45_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_46").geometry().bounds()

var dwImage = ee.Image("users/giacomofalchetta/ghs_pop_2022")
var dwImage = ee.ImageCollection(dwImage)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_46") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(),
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_pop46_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_47").geometry().bounds()

var dwImage = ee.Image("users/giacomofalchetta/ghs_pop_2022")
var dwImage = ee.ImageCollection(dwImage)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_47") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(),
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_pop47_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_48").geometry().bounds()

var dwImage = ee.Image("users/giacomofalchetta/ghs_pop_2022")
var dwImage = ee.ImageCollection(dwImage)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_48") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(),
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_pop48_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_49").geometry().bounds()

var dwImage = ee.Image("users/giacomofalchetta/ghs_pop_2022")
var dwImage = ee.ImageCollection(dwImage)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_49") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(),
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_pop49_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_50").geometry().bounds()

var dwImage = ee.Image("users/giacomofalchetta/ghs_pop_2022")
var dwImage = ee.ImageCollection(dwImage)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_50") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(),
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_pop50_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_51").geometry().bounds()

var dwImage = ee.Image("users/giacomofalchetta/ghs_pop_2022")
var dwImage = ee.ImageCollection(dwImage)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_51") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(),
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_pop51_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_52").geometry().bounds()

var dwImage = ee.Image("users/giacomofalchetta/ghs_pop_2022")
var dwImage = ee.ImageCollection(dwImage)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_52") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(),
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_pop52_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_53").geometry().bounds()

var dwImage = ee.Image("users/giacomofalchetta/ghs_pop_2022")
var dwImage = ee.ImageCollection(dwImage)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_53") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(),
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_pop53_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_54").geometry().bounds()

var dwImage = ee.Image("users/giacomofalchetta/ghs_pop_2022")
var dwImage = ee.ImageCollection(dwImage)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_54") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(),
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_pop54_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_55").geometry().bounds()

var dwImage = ee.Image("users/giacomofalchetta/ghs_pop_2022")
var dwImage = ee.ImageCollection(dwImage)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_55") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(),
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_pop55_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_56").geometry().bounds()

var dwImage = ee.Image("users/giacomofalchetta/ghs_pop_2022")
var dwImage = ee.ImageCollection(dwImage)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_56") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(),
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_pop56_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_57").geometry().bounds()

var dwImage = ee.Image("users/giacomofalchetta/ghs_pop_2022")
var dwImage = ee.ImageCollection(dwImage)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_57") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(),
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_pop57_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_58").geometry().bounds()

var dwImage = ee.Image("users/giacomofalchetta/ghs_pop_2022")
var dwImage = ee.ImageCollection(dwImage)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_58") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(),
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_pop58_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_59").geometry().bounds()

var dwImage = ee.Image("users/giacomofalchetta/ghs_pop_2022")
var dwImage = ee.ImageCollection(dwImage)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_59") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(),
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_pop59_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_60").geometry().bounds()

var dwImage = ee.Image("users/giacomofalchetta/ghs_pop_2022")
var dwImage = ee.ImageCollection(dwImage)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_60") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(),
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_pop60_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_61").geometry().bounds()

var dwImage = ee.Image("users/giacomofalchetta/ghs_pop_2022")
var dwImage = ee.ImageCollection(dwImage)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_61") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(),
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_pop61_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_62").geometry().bounds()

var dwImage = ee.Image("users/giacomofalchetta/ghs_pop_2022")
var dwImage = ee.ImageCollection(dwImage)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_62") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(),
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_pop62_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_63").geometry().bounds()

var dwImage = ee.Image("users/giacomofalchetta/ghs_pop_2022")
var dwImage = ee.ImageCollection(dwImage)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_63") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(),
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_pop63_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_64").geometry().bounds()

var dwImage = ee.Image("users/giacomofalchetta/ghs_pop_2022")
var dwImage = ee.ImageCollection(dwImage)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_64") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(),
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_pop64_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_65").geometry().bounds()

var dwImage = ee.Image("users/giacomofalchetta/ghs_pop_2022")
var dwImage = ee.ImageCollection(dwImage)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_65") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(),
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_pop65_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_66").geometry().bounds()

var dwImage = ee.Image("users/giacomofalchetta/ghs_pop_2022")
var dwImage = ee.ImageCollection(dwImage)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_66") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(),
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_pop66_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_67").geometry().bounds()

var dwImage = ee.Image("users/giacomofalchetta/ghs_pop_2022")
var dwImage = ee.ImageCollection(dwImage)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_67") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(),
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_pop67_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_69").geometry().bounds()

var dwImage = ee.Image("users/giacomofalchetta/ghs_pop_2022")
var dwImage = ee.ImageCollection(dwImage)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_69") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(),
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_pop69_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_70").geometry().bounds()

var dwImage = ee.Image("users/giacomofalchetta/ghs_pop_2022")
var dwImage = ee.ImageCollection(dwImage)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_70") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(),
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_pop70_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_71").geometry().bounds()

var dwImage = ee.Image("users/giacomofalchetta/ghs_pop_2022")
var dwImage = ee.ImageCollection(dwImage)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_71") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(),
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_pop71_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_72").geometry().bounds()

var dwImage = ee.Image("users/giacomofalchetta/ghs_pop_2022")
var dwImage = ee.ImageCollection(dwImage)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_72") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(),
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_pop72_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_73").geometry().bounds()

var dwImage = ee.Image("users/giacomofalchetta/ghs_pop_2022")
var dwImage = ee.ImageCollection(dwImage)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_73") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(),
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_pop73_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_74").geometry().bounds()

var dwImage = ee.Image("users/giacomofalchetta/ghs_pop_2022")
var dwImage = ee.ImageCollection(dwImage)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_74") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(),
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_pop74_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_75").geometry().bounds()

var dwImage = ee.Image("users/giacomofalchetta/ghs_pop_2022")
var dwImage = ee.ImageCollection(dwImage)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_75") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(),
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_pop75_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_76").geometry().bounds()

var dwImage = ee.Image("users/giacomofalchetta/ghs_pop_2022")
var dwImage = ee.ImageCollection(dwImage)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_76") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(),
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_pop76_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_77").geometry().bounds()

var dwImage = ee.Image("users/giacomofalchetta/ghs_pop_2022")
var dwImage = ee.ImageCollection(dwImage)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_77") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(),
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_pop77_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_78").geometry().bounds()

var dwImage = ee.Image("users/giacomofalchetta/ghs_pop_2022")
var dwImage = ee.ImageCollection(dwImage)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_78") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(),
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_pop78_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_79").geometry().bounds()

var dwImage = ee.Image("users/giacomofalchetta/ghs_pop_2022")
var dwImage = ee.ImageCollection(dwImage)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_79") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(),
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_pop79_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_80").geometry().bounds()

var dwImage = ee.Image("users/giacomofalchetta/ghs_pop_2022")
var dwImage = ee.ImageCollection(dwImage)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_80") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(),
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_pop80_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_81").geometry().bounds()

var dwImage = ee.Image("users/giacomofalchetta/ghs_pop_2022")
var dwImage = ee.ImageCollection(dwImage)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_81") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(),
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_pop81_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_82").geometry().bounds()

var dwImage = ee.Image("users/giacomofalchetta/ghs_pop_2022")
var dwImage = ee.ImageCollection(dwImage)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_82") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(),
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_pop82_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_83").geometry().bounds()

var dwImage = ee.Image("users/giacomofalchetta/ghs_pop_2022")
var dwImage = ee.ImageCollection(dwImage)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_83") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(),
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_pop83_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_84").geometry().bounds()

var dwImage = ee.Image("users/giacomofalchetta/ghs_pop_2022")
var dwImage = ee.ImageCollection(dwImage)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_84") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(),
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_pop84_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_85").geometry().bounds()

var dwImage = ee.Image("users/giacomofalchetta/ghs_pop_2022")
var dwImage = ee.ImageCollection(dwImage)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_85") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(),
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_pop85_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_86").geometry().bounds()

var dwImage = ee.Image("users/giacomofalchetta/ghs_pop_2022")
var dwImage = ee.ImageCollection(dwImage)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_86") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(),
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_pop86_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_87").geometry().bounds()

var dwImage = ee.Image("users/giacomofalchetta/ghs_pop_2022")
var dwImage = ee.ImageCollection(dwImage)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_87") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(),
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_pop87_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_88").geometry().bounds()

var dwImage = ee.Image("users/giacomofalchetta/ghs_pop_2022")
var dwImage = ee.ImageCollection(dwImage)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_88") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(),
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_pop88_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_89").geometry().bounds()

var dwImage = ee.Image("users/giacomofalchetta/ghs_pop_2022")
var dwImage = ee.ImageCollection(dwImage)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_89") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(),
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_pop89_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_90").geometry().bounds()

var dwImage = ee.Image("users/giacomofalchetta/ghs_pop_2022")
var dwImage = ee.ImageCollection(dwImage)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_90") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(),
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_pop90_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_91").geometry().bounds()

var dwImage = ee.Image("users/giacomofalchetta/ghs_pop_2022")
var dwImage = ee.ImageCollection(dwImage)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_91") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(),
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_pop91_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_92").geometry().bounds()

var dwImage = ee.Image("users/giacomofalchetta/ghs_pop_2022")
var dwImage = ee.ImageCollection(dwImage)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_92") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(),
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_pop92_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_93").geometry().bounds()

var dwImage = ee.Image("users/giacomofalchetta/ghs_pop_2022")
var dwImage = ee.ImageCollection(dwImage)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_93") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(),
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_pop93_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_94").geometry().bounds()

var dwImage = ee.Image("users/giacomofalchetta/ghs_pop_2022")
var dwImage = ee.ImageCollection(dwImage)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_94") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(),
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_pop94_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_95").geometry().bounds()

var dwImage = ee.Image("users/giacomofalchetta/ghs_pop_2022")
var dwImage = ee.ImageCollection(dwImage)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_95") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(),
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_pop95_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_96").geometry().bounds()

var dwImage = ee.Image("users/giacomofalchetta/ghs_pop_2022")
var dwImage = ee.ImageCollection(dwImage)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_96") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(),
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_pop96_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_97").geometry().bounds()

var dwImage = ee.Image("users/giacomofalchetta/ghs_pop_2022")
var dwImage = ee.ImageCollection(dwImage)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_97") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(),
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_pop97_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_98").geometry().bounds()

var dwImage = ee.Image("users/giacomofalchetta/ghs_pop_2022")
var dwImage = ee.ImageCollection(dwImage)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_98") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(),
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_pop98_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_99").geometry().bounds()

var dwImage = ee.Image("users/giacomofalchetta/ghs_pop_2022")
var dwImage = ee.ImageCollection(dwImage)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_99") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(),
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_pop99_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_100").geometry().bounds()

var dwImage = ee.Image("users/giacomofalchetta/ghs_pop_2022")
var dwImage = ee.ImageCollection(dwImage)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_100") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(),
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_pop100_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_101").geometry().bounds()

var dwImage = ee.Image("users/giacomofalchetta/ghs_pop_2022")
var dwImage = ee.ImageCollection(dwImage)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_101") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(),
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_pop101_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_102").geometry().bounds()

var dwImage = ee.Image("users/giacomofalchetta/ghs_pop_2022")
var dwImage = ee.ImageCollection(dwImage)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_102") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(),
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_pop102_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_103").geometry().bounds()

var dwImage = ee.Image("users/giacomofalchetta/ghs_pop_2022")
var dwImage = ee.ImageCollection(dwImage)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_103") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(),
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_pop103_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_104").geometry().bounds()

var dwImage = ee.Image("users/giacomofalchetta/ghs_pop_2022")
var dwImage = ee.ImageCollection(dwImage)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_104") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(),
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_pop104_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_105").geometry().bounds()

var dwImage = ee.Image("users/giacomofalchetta/ghs_pop_2022")
var dwImage = ee.ImageCollection(dwImage)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_105") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(),
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_pop105_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_106").geometry().bounds()

var dwImage = ee.Image("users/giacomofalchetta/ghs_pop_2022")
var dwImage = ee.ImageCollection(dwImage)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_106") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(),
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_pop106_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_107").geometry().bounds()

var dwImage = ee.Image("users/giacomofalchetta/ghs_pop_2022")
var dwImage = ee.ImageCollection(dwImage)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_107") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(),
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_pop107_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_108").geometry().bounds()

var dwImage = ee.Image("users/giacomofalchetta/ghs_pop_2022")
var dwImage = ee.ImageCollection(dwImage)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_108") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(),
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_pop108_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_109").geometry().bounds()

var dwImage = ee.Image("users/giacomofalchetta/ghs_pop_2022")
var dwImage = ee.ImageCollection(dwImage)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_109") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(),
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_pop109_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_110").geometry().bounds()

var dwImage = ee.Image("users/giacomofalchetta/ghs_pop_2022")
var dwImage = ee.ImageCollection(dwImage)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_110") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(),
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_pop110_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_111").geometry().bounds()

var dwImage = ee.Image("users/giacomofalchetta/ghs_pop_2022")
var dwImage = ee.ImageCollection(dwImage)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_111") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(),
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_pop111_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_112").geometry().bounds()

var dwImage = ee.Image("users/giacomofalchetta/ghs_pop_2022")
var dwImage = ee.ImageCollection(dwImage)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_112") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(),
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_pop112_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_113").geometry().bounds()

var dwImage = ee.Image("users/giacomofalchetta/ghs_pop_2022")
var dwImage = ee.ImageCollection(dwImage)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_113") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(),
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_pop113_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_114").geometry().bounds()

var dwImage = ee.Image("users/giacomofalchetta/ghs_pop_2022")
var dwImage = ee.ImageCollection(dwImage)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_114") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(),
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_pop114_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_115").geometry().bounds()

var dwImage = ee.Image("users/giacomofalchetta/ghs_pop_2022")
var dwImage = ee.ImageCollection(dwImage)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_115") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(),
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_pop115_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_116").geometry().bounds()

var dwImage = ee.Image("users/giacomofalchetta/ghs_pop_2022")
var dwImage = ee.ImageCollection(dwImage)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_116") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(),
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_pop116_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_117").geometry().bounds()

var dwImage = ee.Image("users/giacomofalchetta/ghs_pop_2022")
var dwImage = ee.ImageCollection(dwImage)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_117") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(),
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_pop117_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_118").geometry().bounds()

var dwImage = ee.Image("users/giacomofalchetta/ghs_pop_2022")
var dwImage = ee.ImageCollection(dwImage)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_118") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(),
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_pop118_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_119").geometry().bounds()

var dwImage = ee.Image("users/giacomofalchetta/ghs_pop_2022")
var dwImage = ee.ImageCollection(dwImage)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_119") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(),
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_pop119_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_120").geometry().bounds()

var dwImage = ee.Image("users/giacomofalchetta/ghs_pop_2022")
var dwImage = ee.ImageCollection(dwImage)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_120") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(),
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_pop120_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_121").geometry().bounds()

var dwImage = ee.Image("users/giacomofalchetta/ghs_pop_2022")
var dwImage = ee.ImageCollection(dwImage)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_121") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(),
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_pop121_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_122").geometry().bounds()

var dwImage = ee.Image("users/giacomofalchetta/ghs_pop_2022")
var dwImage = ee.ImageCollection(dwImage)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_122") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(),
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_pop122_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_123").geometry().bounds()

var dwImage = ee.Image("users/giacomofalchetta/ghs_pop_2022")
var dwImage = ee.ImageCollection(dwImage)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_123") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(),
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_pop123_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_124").geometry().bounds()

var dwImage = ee.Image("users/giacomofalchetta/ghs_pop_2022")
var dwImage = ee.ImageCollection(dwImage)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_124") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(),
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_pop124_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_125").geometry().bounds()

var dwImage = ee.Image("users/giacomofalchetta/ghs_pop_2022")
var dwImage = ee.ImageCollection(dwImage)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_125") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(),
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_pop125_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_126").geometry().bounds()

var dwImage = ee.Image("users/giacomofalchetta/ghs_pop_2022")
var dwImage = ee.ImageCollection(dwImage)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_126") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(),
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_pop126_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_127").geometry().bounds()

var dwImage = ee.Image("users/giacomofalchetta/ghs_pop_2022")
var dwImage = ee.ImageCollection(dwImage)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_127") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(),
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_pop127_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_128").geometry().bounds()

var dwImage = ee.Image("users/giacomofalchetta/ghs_pop_2022")
var dwImage = ee.ImageCollection(dwImage)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_128") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(),
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_pop128_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_129").geometry().bounds()

var dwImage = ee.Image("users/giacomofalchetta/ghs_pop_2022")
var dwImage = ee.ImageCollection(dwImage)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_129") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(),
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_pop129_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_130").geometry().bounds()

var dwImage = ee.Image("users/giacomofalchetta/ghs_pop_2022")
var dwImage = ee.ImageCollection(dwImage)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_130") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(),
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_pop130_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_131").geometry().bounds()

var dwImage = ee.Image("users/giacomofalchetta/ghs_pop_2022")
var dwImage = ee.ImageCollection(dwImage)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_131") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(),
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_pop131_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_132").geometry().bounds()

var dwImage = ee.Image("users/giacomofalchetta/ghs_pop_2022")
var dwImage = ee.ImageCollection(dwImage)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_132") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(),
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_pop132_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_133").geometry().bounds()

var dwImage = ee.Image("users/giacomofalchetta/ghs_pop_2022")
var dwImage = ee.ImageCollection(dwImage)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_133") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(),
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_pop133_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_134").geometry().bounds()

var dwImage = ee.Image("users/giacomofalchetta/ghs_pop_2022")
var dwImage = ee.ImageCollection(dwImage)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_134") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(),
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_pop134_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_135").geometry().bounds()

var dwImage = ee.Image("users/giacomofalchetta/ghs_pop_2022")
var dwImage = ee.ImageCollection(dwImage)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_135") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(),
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_pop135_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_136").geometry().bounds()

var dwImage = ee.Image("users/giacomofalchetta/ghs_pop_2022")
var dwImage = ee.ImageCollection(dwImage)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_136") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(),
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_pop136_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_137").geometry().bounds()

var dwImage = ee.Image("users/giacomofalchetta/ghs_pop_2022")
var dwImage = ee.ImageCollection(dwImage)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_137") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(),
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_pop137_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_138").geometry().bounds()

var dwImage = ee.Image("users/giacomofalchetta/ghs_pop_2022")
var dwImage = ee.ImageCollection(dwImage)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_138") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(),
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_pop138_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_139").geometry().bounds()

var dwImage = ee.Image("users/giacomofalchetta/ghs_pop_2022")
var dwImage = ee.ImageCollection(dwImage)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_139") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(),
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_pop139_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_140").geometry().bounds()

var dwImage = ee.Image("users/giacomofalchetta/ghs_pop_2022")
var dwImage = ee.ImageCollection(dwImage)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_140") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(),
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_pop140_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_141").geometry().bounds()

var dwImage = ee.Image("users/giacomofalchetta/ghs_pop_2022")
var dwImage = ee.ImageCollection(dwImage)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_141") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(),
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_pop141_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_142").geometry().bounds()

var dwImage = ee.Image("users/giacomofalchetta/ghs_pop_2022")
var dwImage = ee.ImageCollection(dwImage)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_142") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(),
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_pop142_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_143").geometry().bounds()

var dwImage = ee.Image("users/giacomofalchetta/ghs_pop_2022")
var dwImage = ee.ImageCollection(dwImage)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_143") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(),
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_pop143_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_144").geometry().bounds()

var dwImage = ee.Image("users/giacomofalchetta/ghs_pop_2022")
var dwImage = ee.ImageCollection(dwImage)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_144") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(),
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_pop144_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_145").geometry().bounds()

var dwImage = ee.Image("users/giacomofalchetta/ghs_pop_2022")
var dwImage = ee.ImageCollection(dwImage)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_145") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(),
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_pop145_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_146").geometry().bounds()

var dwImage = ee.Image("users/giacomofalchetta/ghs_pop_2022")
var dwImage = ee.ImageCollection(dwImage)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_146") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(),
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_pop146_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_147").geometry().bounds()

var dwImage = ee.Image("users/giacomofalchetta/ghs_pop_2022")
var dwImage = ee.ImageCollection(dwImage)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_147") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(),
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_pop147_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_148").geometry().bounds()

var dwImage = ee.Image("users/giacomofalchetta/ghs_pop_2022")
var dwImage = ee.ImageCollection(dwImage)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_148") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(),
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_pop148_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_149").geometry().bounds()

var dwImage = ee.Image("users/giacomofalchetta/ghs_pop_2022")
var dwImage = ee.ImageCollection(dwImage)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_149") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(),
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_pop149_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_150").geometry().bounds()

var dwImage = ee.Image("users/giacomofalchetta/ghs_pop_2022")
var dwImage = ee.ImageCollection(dwImage)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_150") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(),
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_pop150_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_151").geometry().bounds()

var dwImage = ee.Image("users/giacomofalchetta/ghs_pop_2022")
var dwImage = ee.ImageCollection(dwImage)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_151") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(),
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_pop151_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_152").geometry().bounds()

var dwImage = ee.Image("users/giacomofalchetta/ghs_pop_2022")
var dwImage = ee.ImageCollection(dwImage)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_152") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(),
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_pop152_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_153").geometry().bounds()

var dwImage = ee.Image("users/giacomofalchetta/ghs_pop_2022")
var dwImage = ee.ImageCollection(dwImage)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_153") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(),
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_pop153_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_154").geometry().bounds()

var dwImage = ee.Image("users/giacomofalchetta/ghs_pop_2022")
var dwImage = ee.ImageCollection(dwImage)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_154") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(),
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_pop154_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_155").geometry().bounds()

var dwImage = ee.Image("users/giacomofalchetta/ghs_pop_2022")
var dwImage = ee.ImageCollection(dwImage)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_155") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(),
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_pop155_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_156").geometry().bounds()

var dwImage = ee.Image("users/giacomofalchetta/ghs_pop_2022")
var dwImage = ee.ImageCollection(dwImage)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_156") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(),
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_pop156_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_157").geometry().bounds()

var dwImage = ee.Image("users/giacomofalchetta/ghs_pop_2022")
var dwImage = ee.ImageCollection(dwImage)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_157") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(),
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_pop157_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_158").geometry().bounds()

var dwImage = ee.Image("users/giacomofalchetta/ghs_pop_2022")
var dwImage = ee.ImageCollection(dwImage)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_158") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(),
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_pop158_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_159").geometry().bounds()

var dwImage = ee.Image("users/giacomofalchetta/ghs_pop_2022")
var dwImage = ee.ImageCollection(dwImage)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_159") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(),
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_pop159_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_160").geometry().bounds()

var dwImage = ee.Image("users/giacomofalchetta/ghs_pop_2022")
var dwImage = ee.ImageCollection(dwImage)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_160") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(),
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_pop160_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_161").geometry().bounds()

var dwImage = ee.Image("users/giacomofalchetta/ghs_pop_2022")
var dwImage = ee.ImageCollection(dwImage)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_161") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(),
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_pop161_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_162").geometry().bounds()

var dwImage = ee.Image("users/giacomofalchetta/ghs_pop_2022")
var dwImage = ee.ImageCollection(dwImage)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_162") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(),
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_pop162_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_163").geometry().bounds()

var dwImage = ee.Image("users/giacomofalchetta/ghs_pop_2022")
var dwImage = ee.ImageCollection(dwImage)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_163") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(),
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_pop163_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_164").geometry().bounds()

var dwImage = ee.Image("users/giacomofalchetta/ghs_pop_2022")
var dwImage = ee.ImageCollection(dwImage)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_164") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(),
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_pop164_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_165").geometry().bounds()

var dwImage = ee.Image("users/giacomofalchetta/ghs_pop_2022")
var dwImage = ee.ImageCollection(dwImage)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_165") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(),
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_pop165_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_166").geometry().bounds()

var dwImage = ee.Image("users/giacomofalchetta/ghs_pop_2022")
var dwImage = ee.ImageCollection(dwImage)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_166") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(),
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_pop166_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_167").geometry().bounds()

var dwImage = ee.Image("users/giacomofalchetta/ghs_pop_2022")
var dwImage = ee.ImageCollection(dwImage)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_167") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(),
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_pop167_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_168").geometry().bounds()

var dwImage = ee.Image("users/giacomofalchetta/ghs_pop_2022")
var dwImage = ee.ImageCollection(dwImage)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_168") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(),
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_pop168_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_169").geometry().bounds()

var dwImage = ee.Image("users/giacomofalchetta/ghs_pop_2022")
var dwImage = ee.ImageCollection(dwImage)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_169") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(),
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_pop169_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_170").geometry().bounds()

var dwImage = ee.Image("users/giacomofalchetta/ghs_pop_2022")
var dwImage = ee.ImageCollection(dwImage)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_170") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(),
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_pop170_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_171").geometry().bounds()

var dwImage = ee.Image("users/giacomofalchetta/ghs_pop_2022")
var dwImage = ee.ImageCollection(dwImage)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_171") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(),
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_pop171_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_172").geometry().bounds()

var dwImage = ee.Image("users/giacomofalchetta/ghs_pop_2022")
var dwImage = ee.ImageCollection(dwImage)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_172") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(),
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_pop172_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_173").geometry().bounds()

var dwImage = ee.Image("users/giacomofalchetta/ghs_pop_2022")
var dwImage = ee.ImageCollection(dwImage)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_173") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(),
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_pop173_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_174").geometry().bounds()

var dwImage = ee.Image("users/giacomofalchetta/ghs_pop_2022")
var dwImage = ee.ImageCollection(dwImage)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_174") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(),
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_pop174_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_175").geometry().bounds()

var dwImage = ee.Image("users/giacomofalchetta/ghs_pop_2022")
var dwImage = ee.ImageCollection(dwImage)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_175") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(),
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_pop175_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_176").geometry().bounds()

var dwImage = ee.Image("users/giacomofalchetta/ghs_pop_2022")
var dwImage = ee.ImageCollection(dwImage)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_176") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(),
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_pop176_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_177").geometry().bounds()

var dwImage = ee.Image("users/giacomofalchetta/ghs_pop_2022")
var dwImage = ee.ImageCollection(dwImage)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_177") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(),
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_pop177_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_178").geometry().bounds()

var dwImage = ee.Image("users/giacomofalchetta/ghs_pop_2022")
var dwImage = ee.ImageCollection(dwImage)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_178") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(),
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_pop178_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_179").geometry().bounds()

var dwImage = ee.Image("users/giacomofalchetta/ghs_pop_2022")
var dwImage = ee.ImageCollection(dwImage)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_179") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(),
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_pop179_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_180").geometry().bounds()

var dwImage = ee.Image("users/giacomofalchetta/ghs_pop_2022")
var dwImage = ee.ImageCollection(dwImage)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_180") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(),
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_pop180_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_181").geometry().bounds()

var dwImage = ee.Image("users/giacomofalchetta/ghs_pop_2022")
var dwImage = ee.ImageCollection(dwImage)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_181") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(),
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_pop181_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_182").geometry().bounds()

var dwImage = ee.Image("users/giacomofalchetta/ghs_pop_2022")
var dwImage = ee.ImageCollection(dwImage)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_182") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(),
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_pop182_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_183").geometry().bounds()

var dwImage = ee.Image("users/giacomofalchetta/ghs_pop_2022")
var dwImage = ee.ImageCollection(dwImage)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_183") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(),
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_pop183_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_184").geometry().bounds()

var dwImage = ee.Image("users/giacomofalchetta/ghs_pop_2022")
var dwImage = ee.ImageCollection(dwImage)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_184") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(),
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_pop184_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_185").geometry().bounds()

var dwImage = ee.Image("users/giacomofalchetta/ghs_pop_2022")
var dwImage = ee.ImageCollection(dwImage)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_185") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(),
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_pop185_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_186").geometry().bounds()

var dwImage = ee.Image("users/giacomofalchetta/ghs_pop_2022")
var dwImage = ee.ImageCollection(dwImage)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_186") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(),
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_pop186_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_187").geometry().bounds()

var dwImage = ee.Image("users/giacomofalchetta/ghs_pop_2022")
var dwImage = ee.ImageCollection(dwImage)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_187") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(),
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_pop187_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_188").geometry().bounds()

var dwImage = ee.Image("users/giacomofalchetta/ghs_pop_2022")
var dwImage = ee.ImageCollection(dwImage)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_188") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(),
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_pop188_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_189").geometry().bounds()

var dwImage = ee.Image("users/giacomofalchetta/ghs_pop_2022")
var dwImage = ee.ImageCollection(dwImage)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_189") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(),
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_pop189_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_190").geometry().bounds()

var dwImage = ee.Image("users/giacomofalchetta/ghs_pop_2022")
var dwImage = ee.ImageCollection(dwImage)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_190") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(),
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_pop190_2022",
  fileFormat: "CSV",
});   

var comuni = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_191").geometry().bounds()

var dwImage = ee.Image("users/giacomofalchetta/ghs_pop_2022")
var dwImage = ee.ImageCollection(dwImage)

//Subset Ukraine feature from countries.
var ukr = ee.FeatureCollection("users/giacomofalchetta/cities_sampled_points_191") 

var reduced = dwImage.map(function(image){
  return image.reduceRegions({
    collection:ukr , 
    reducer:ee.Reducer.median(),
    tileScale: 4,
    scale: 10
  });
});

var table = reduced.flatten();

var table = table.select([".*"],null,false);

Export.table.toDrive({
  collection: table,
  description: "cities_sampled_points_pop191_2022",
  fileFormat: "CSV",
});   
